!function(a){"use strict";a.fn.affix=function(b){var c=a.extend({},a.fn.affix.defaults,b),d={settings:{position:0,lockedTo:"none",endReached:!1},detectDirection:function(){var b,c=a(window).scrollTop();return b=c>this.settings.position?"down":"up",this.settings.position=c,b},getState:function(b,d,e,f){var g=a(b),h=g.outerHeight(!0),i=g.offset(),j=this.detectDirection(),k=a(window).scrollTop(),l=a(window).height(),m=l-h;if(m=0>m?c.spacing:m,e>=k)return"default";if(k+l>=d-f+m)return"bottom-absolute";if(l-c.spacing<h){if("down"===j&&"none"===this.settings.lockedTo&&l+k>i.top+h+c.spacing)return"bottom-fixed";if("down"===j&&"top"===this.settings.lockedTo)return"absolute";if("up"===j&&"none"===this.settings.lockedTo&&i.top>=k)return"top-fixed";if("up"===j&&"bottom"===this.settings.lockedTo)return"absolute"}else if("none"===this.settings.lockedTo)return"top-fixed";return!1},setPosition:function(a,b){"bottom-fixed"===b?(a.css({position:"fixed",top:"auto",bottom:c.spacing+"px"}),this.settings.lockedTo="bottom"):"bottom-absolute"===b?(a.css({position:"absolute",top:"auto",bottom:"0px"}),this.settings.lockedTo="none"):"top-fixed"===b?(a.css({position:"fixed",top:"0px",bottom:"auto"}),this.settings.lockedTo="top"):"default"===b?(a.css({position:"relative",top:"auto",bottom:"auto"}),this.settings.lockedTo="none"):"absolute"===b&&(a.css({position:"absolute",top:a.offset().top-a.parent().offset().top+"px",bottom:"auto"}),this.settings.lockedTo="none")},checkPosition:function(b){var d,e=c.offset,f=e.top,g=e.bottom,h=a("body").height();b.is(":visible")&&("object"!=typeof e&&(g=f=e),"function"==typeof f&&(f=e.top(b)),"function"==typeof g&&(g=e.bottom(b)),d=this.getState(b,h,f,g),d&&this.setPosition(b,d))}};return this.each(function(){var b=a(this);a(window).on("scroll",function(){d.checkPosition(b)}),d.checkPosition(b)})},a.fn.affix.defaults={offset:0,spacing:20}}(jQuery);