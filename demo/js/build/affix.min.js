/**!
 * Affix
 * @version 2.0.0
 * @author Jason Alvis
 * @website http://jasonalvis.co.uk
 * @license The MIT License (MIT)
 * @url https://github.com/jasonalvis/affix
 */
!function(a,b,c,d){"use strict";var e=function(b,c){this.element=b,this.$element=a(b),this.scrollPosition=0,this.lockedTo=null,this.options=c,this.init()};e.prototype.defaults={offset:0,target:b},e.prototype.init=function(){return this.config=a.extend({},this.defaults,this.options),this.$target=a(this.config.target),this.$target.on("scroll",a.proxy(this.checkPosition,this)),this.checkPosition(),this},e.prototype.detectDirection=function(){var a,b=this.$target.scrollTop();return a=b>this.scrollPosition?"down":"up",this.scrollPosition=b,a},e.prototype.getState=function(a,b,c,d){var e=this.$element.offset(),f=this.detectDirection(),g=this.$target.scrollTop(),h=this.$target.height(),i=h-b;if(i=0>i?0:i,c>=g)return"default";if(g+h>=a-d+i)return"bottom-absolute";if(b>h){if("down"===f&&null===this.lockedTo&&h+g>e.top+b)return"bottom-fixed";if("down"===f&&"top"===this.lockedTo)return"absolute";if("up"===f&&null===this.lockedTo&&e.top>=g)return"top-fixed";if("up"===f&&"bottom"===this.lockedTo)return"absolute"}else if(null===this.lockedTo)return"top-fixed";return!1},e.prototype.setPosition=function(a){"bottom-fixed"===a?(this.$element.css({position:"fixed",top:"auto",bottom:"0px"}),this.lockedTo="bottom"):"bottom-absolute"===a?(this.$element.css({position:"absolute",top:"auto",bottom:"0px"}),this.lockedTo=null):"top-fixed"===a?(this.$element.css({position:"fixed",top:"0px",bottom:"auto"}),this.lockedTo="top"):"default"===a?(this.$element.css({position:"relative",top:"auto",bottom:"auto"}),this.lockedTo=null):"absolute"===a&&(this.$element.css({position:"absolute",top:this.$element.offset().top-this.$element.parent().offset().top+"px",bottom:"auto"}),this.lockedTo=null)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,d=this.config.offset,e=d.top,f=d.bottom,g=this.$element.height(),h=Math.max(a(c).height(),a(c.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element)),b=this.getState(h,g,e,f),b&&this.setPosition(b)}},e.defaults=e.prototype.defaults,a.fn.affix=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("affix");f?"string"==typeof b&&f[b].apply(f,c):d.data("affix",new e(this,b))})}}(jQuery,window,document);